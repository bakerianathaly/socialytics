<!-- Nav bar(Header) -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <img class="logo" src="../../assets/logo.png" alt="Socialytics"><a id="name" class="navbar-brand justify-content-around" href="/profile"> Socialytics</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="nav">
           <li class="nav-item dropdown">
            <a *ngFor="let user of current" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Welcome, {{user.name}}<span class="sr-only"> </span>
            </a>
            <div class="dropdown-menu " aria-labelledby="navbarDropdown">
              <a class="nav-link list down" href=""> Profile <span class="sr-only"></span></a>
              <a class="nav-link list down" (click)="logout()" href=""> Logout <span class="sr-only">(current)</span></a>
            </div>
          </li>
        </ul>
   </div>
</nav>

<!-- Instagram Basic Info -->
<div *ngIf="instagramData" class="container-fluid">
  <div class="container">
    <!-- Basic user info -->
    <div class="row w-100">
      <div class="col-2 d-flex align-items-center justify-content-center">
        <img class="avatar" [src]="instagramData.userData.profile_picture_url" />
      </div>
      <div class="col-8 col-xs-6 card-body">
        <div class="name">
          {{instagramData.userData.name}}
        </div>
        <div>
          <a class="username" [href]="'https://instagram.com/'  + instagramData.userData.username"
            target="_blank">@{{instagramData.userData.username}}</a>
        </div>
        <div class="bio">
          {{instagramData.userData.biography}}
        </div>
        <div class="website">
          <a (click)="externalUrl(stats.website)" target="_blank">{{instagramData.userData.website}}</a>
        </div>
      </div>
    </div>

    <!-- Post, Followers and Following squares-->
    <div [style.margin-top.px]="'20'" class="row">
      <div class="col-md-4">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Posts</small>
            <h4 class="card-text score-body">{{instagramData.userData.media_count}}</h4>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Followers</small>
            <h4 class="card-text score-body">{{instagramData.userData.followers_count}}</h4>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Following</small>
            <h4 class="card-text score-body">{{instagramData.userData.follows_count}}</h4>
          </div>
        </div>
      </div>
    </div>

    <!-- Cuadros de: Total likes, Total comments, Average likes, Average comments -->
    <div class="row">
      <div class="col-3">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Total Likes</small>
            <h4 class="card-text score-body">{{instagramData.media.totalLikes}}</h4>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Total Comments</small>
            <h4 class="card-text score-body">{{instagramData.media.totalComments}}</h4>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Average Likes</small>
            <h4 class="card-text score-body" >{{instagramData.media.avgLikes}}</h4>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card mb-4 box-shadow">
          <div class="card-body text-center">
            <small class="score-header">Average Comments</small>
            <h4 class="card-text score-body">{{instagramData.media.avgComments}}</h4>
          </div>
        </div>
      </div>
    </div>
    <!-- Hasta aqui -->

    
  </div>
</div>

<!-- End homepage content -->
<footer class="fixed-bottom">
  <div class="wrapper">
    <p><img src="../../assets/logo.png" alt="logo"> Socialytics</p>
    <p>&copy; All Rights Reserved 2020</p>
    <!-- Esto sale al final de la pagina -->
    <p style="font-size: 12px;">
      *Instagram public endpoints have been changing since April 2018. As a result, the
      application is in continuous development. If the endpoints have changed since the last test run, please bear
      with me and consider creating an issue <a href="https://github.com/preethamvishy/socialytics/issues">here</a>.
    </p>
    <!-- Hasta aqui -->
  </div>
</footer>
  
