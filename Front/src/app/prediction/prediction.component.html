<!-- Nav bar(Header) -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <img class="logo" src="../../assets/logo.png" alt="Socialytics"><a id="name" class="navbar-brand justify-content-around" href="/home"> Socialytics</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <ul class="nav">
        <li  class="nav-item">
          <a class="nav-link active" href="/home">Home</a>
        </li>
        <li  class="nav-item">
          <a class="nav-link active" href="/prediction">Prediction</a>
        </li>
        <li  class="nav-item">
          <a class="nav-link active" href="/recomendation">Recommendation</a>
        </li>
        <li class="nav-item dropdown">
          <a *ngFor="let user of current" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Welcome, {{user.name}}<span class="sr-only"> </span>
          </a>
          <div class="dropdown-menu " aria-labelledby="navbarDropdown">
            <a class="nav-link list down" [routerLink]="['/userprofile']"> Profile <span class="sr-only"></span></a>
            <a class="nav-link list down" (click)="logout()" href=""> Logout <span class="sr-only">(current)</span></a>
          </div>
        </li>
      </ul>
   </div>
</nav>

<!-- Instagram Basic Info -->
<div *ngIf="instagramData" class="container-fluid">
  <div class="container">
    <!-- Basic user info -->
    <div class="row w-100">
      <div class="col-2 d-flex align-items-center justify-content-center">
        <img class="avatar" [src]="instagramData.profile_picture_url" />
      </div>
      <div class="col-8 col-xs-6 card-body">
        <div class="name">
          {{instagramData.name}}
        </div>
        <div>
          <a class="username" [href]="'https://instagram.com/'  + instagramData.username"
            target="_blank">@{{instagramData.username}}</a>
        </div>
        <div class="bio">
          {{instagramData.biography}}
        </div>
        <div class="website">
          <a (click)="externalUrl(stats.website)" target="_blank">{{instagramData.website}}</a>
        </div>
        <small style="font-size: 10px">(Based on 3 months of historical data)</small>
      </div>
    </div>
  
  </div>
</div>
<br><br>

<!-- Graphics -->
<div class="container-fluid">
  <div class="container-fluid">
    <ul class="nav nav-tabs nav-justified">
        <li class="nav-item hoverPrediction">
          <a class="nav-link active" id="best-DayToPost" href="#BestDayToPost" role="tab" data-toggle="tab" aria-selected="true" aria-controls="BestDayToPost">Best day to Post</a>
        </li>
        <li class="nav-item hoverPrediction">
          <a class="nav-link" id="reachPrediction" href="#Reach" role="tab" data-toggle="tab" aria-selected="false" aria-controls="Reach">Reach</a>
        </li>
        <li class="nav-item hoverPrediction">
          <a class="nav-link" id="impressionsPrediction" href="#Impressions" role="tab" data-toggle="tab" aria-selected="false" aria-controls="Impressions">Impressions</a>
        </li>
    </ul>

    <div class="ml-5 mt-3 tab-content">
      <!-- Best day to post graphics -->
        <div class="tab-pane active container-fluid" id="BestDayToPost" role="tabpanel" aria-labelledby="best-DayToPost">
           
          <div class="container" id="BestDayToPost"  *ngIf="this.maxDayPV && this.maxValuePV">
           <h4>Best day to post by profile views <button data-html2canvas-ignore="true" class="buttonExport btn bouncy" title="Export" (click)="exportData('BestDayToPost')" > </button></h4>
            <h6>Your best day to post is on {{this.maxDayPV}}, estimating a {{this.maxValuePV}}% of probability by Profile Views.</h6>
            <div class="row">
              <div class="col-12">
                <div class="card mb-4 box-shadow">
                  <div class="card-body text-center" >
                    <canvas baseChart [datasets]="byProfileViewsData" [labels]="barChartLabels" [options]="barChartOptions"
                      [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType" [colors]="byProfileViewsColor">
                    </canvas>
                    <small style="font-size: 10px">Profile Views: Total number of times the multimedia objects in the trading account were viewed uniquely.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="container" id="PostByEngagement"  *ngIf="this.maxValueEng && this.maxDayEng">
            <h4>Best day to post by engagements <button data-html2canvas-ignore="true" class="buttonExport btn bouncy" title="Export" (click)="exportData('PostByEngagement')"> </button></h4>
            <h6>Your best day to post is on {{this.maxDayEng}}, estimating a {{this.maxValueEng}}% of probability by Engagement Success.</h6>
            <div class="row">
              <div class="col-12">
                <div class="card mb-4 box-shadow">
                  <div class="card-body text-center" >
                    <canvas baseChart [datasets]="byEngagementData" [labels]="barChartLabels" [options]="barChartOptions"
                      [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType" [colors]="byEngagementColor">
                    </canvas>
                    <small style="font-size: 10px">Engagements: Total number of likes and comments on the media object.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

      
     <!-- Probable amount of reach graphic -->
      <div class="tab-pane container-fluid" id="Reach" role="tabpanel" aria-labelledby="reachPrediction">
        <div class="container" id="Reach" *ngIf="this.maxDayPR && this.maxValuePR">
          <h4>Probable amount of Reach by days of the week <button data-html2canvas-ignore="true" class="buttonExport btn bouncy" title="Export" (click)="exportData('Reach')"> </button></h4>
          <h6>This is your probability of Reach by days of the week, your best day could be on {{this.maxDayPR}}, estimating a {{this.maxValuePR}}% of success</h6>
          <div class="row">
            <div class="col-12">
              <div class="card mb-4 box-shadow">
                <div class="card-body text-center" >
                  <canvas  baseChart [datasets]="probableReachData" [labels]="barChartLabels" [options]="barChartOptions"
                    [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType" [colors]="probableReachColor">
                  </canvas>
                  <small style="font-size: 10px">Reach: Total number of users who viewed the trading account profile in the specified time period.</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <!-- Probable amount of impressions graphic -->
      <div class="tab-pane container-fluid" id="Impressions" role="tabpanel" aria-labelledby="impressionsPrediction">
        <div class="container" id="Impressions" *ngIf="this.maxDayPI && this.maxValuePI; else problem">
          <h4>Probable amount of Impressions by days of the week <button data-html2canvas-ignore="true" class="buttonExport btn bouncy" title="Export" (click)="exportData('Impressions')" > </button></h4>
          <h6>This is your probability of Impressions by days of the week, your best day could be on {{this.maxDayPI}}, estimating a {{this.maxValuePI}}% of success</h6>
          <div class="row">
            <div class="col-12">
              <div class="card mb-4 box-shadow">
                <div class="card-body text-center" >
                  <canvas  baseChart [datasets]="probableImpressionData" [labels]="barChartLabels" [options]="barChartOptions"
                    [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType" [colors]="probableIColor">
                  </canvas>
                  <small style="font-size: 10px">Impressions: Total number of times this profile has been seen during a time period.</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
   </div>

<!-- End homepage content -->
<!-- <footer class="fixed-bottom">
  <div class="wrapper">
    <p><img src="../../assets/logo.png" alt="logo"> Socialytics</p>
    <p>&copy; All Rights Reserved 2020</p>
    <p style="font-size: 12px;">
      *Instagram public endpoints have been changing since April 2018. As a result, the
      application is in continuous development. If the endpoints have changed since the last test run, please bear
      with me and consider creating an issue <a href="https://github.com/preethamvishy/socialytics/issues">here</a>.
    </p>
  </div>
</footer>
   -->
